/*

 FullCalendar v1.5.4
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Wed Dec 19 15:58:32 2012 +0100

*/
(function(l,ma){function wb(a){l.extend(true,Za,a)}function Yb(a,b,e){function c(p){if(O){U();n();na();Q(p)}else f()}function f(){M=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");O=l("<div class='fc-content' style='position:relative'/>").prependTo(a);q=new Zb(Z,b);(K=q.render())&&a.prepend(K);x(b.defaultView);l(window).resize(la);m()||h()}function h(){setTimeout(function(){!r.start&&m()&&Q()},0)}function k(){l(window).unbind("resize",la);q.destroy();
O.remove();a.removeClass("fc fc-rtl ui-widget")}function j(){return $.offsetWidth!==0}function m(){return l("body")[0].offsetWidth!==0}function x(p){if(!r||p!=r.name){C++;ra();var y=r,W;if(y){(y.beforeHide||xb)();$a(O,O.height());y.element.hide()}else $a(O,1);O.css("overflow","hidden");if(r=D[p])r.element.show();else r=D[p]=new Fa[p](W=s=l("<div class='fc-view fc-view-"+p+"' style='position:absolute'/>").appendTo(O),Z);y&&q.deactivateButton(y.name);q.activateButton(p);Q();O.css("overflow","");y&&
$a(O,1);W||(r.afterShow||xb)();C--}}function Q(p){if(j()){C++;ra();g===ma&&U();var y=false;if(!r.start||p||t<r.start||t>=r.end){r.render(t,p||0);N(true);y=true}else if(r.sizeDirty){r.clearEvents();N();y=true}else if(r.eventsDirty){r.clearEvents();y=true}r.sizeDirty=false;r.eventsDirty=false;ea(y);V=a.outerWidth();q.updateTitle(r.title);p=new Date;p>=r.start&&p<r.end?q.disableButton("today"):q.enableButton("today");C--;r.trigger("viewDisplay",$)}}function R(){n();if(j()){U();N();ra();r.clearEvents();
r.renderEvents(B);r.sizeDirty=false}}function n(){l.each(D,function(p,y){y.sizeDirty=true})}function U(){g=b.contentHeight?b.contentHeight:b.height?b.height-(K?K.height():0)-Sa(O):Math.round(O.width()/Math.max(b.aspectRatio,0.5))}function N(p){C++;r.setHeight(g,p);if(s){s.css("position","relative");s=null}r.setWidth(O.width(),p);C--}function la(){if(!C)if(r.start){var p=++v;setTimeout(function(){if(p==v&&!C&&j())if(V!=(V=a.outerWidth())){C++;R();r.trigger("windowResize",$);C--}},200)}else h()}function ea(p){if(!b.lazyFetching||
ya(r.visStart,r.visEnd))pa();else p&&fa()}function pa(){L(r.visStart,r.visEnd)}function sa(p){B=p;fa()}function ia(p){fa(p)}function fa(p){na();if(j()){r.clearEvents();r.renderEvents(B,p);r.eventsDirty=false}}function na(){l.each(D,function(p,y){y.eventsDirty=true})}function ua(p,y,W){r.select(p,y,W===ma?true:W)}function ra(){r&&r.unselect()}function X(){Q(-1)}function da(){Q(1)}function ja(){ib(t,-1);Q()}function qa(){ib(t,1);Q()}function E(){t=new Date;Q()}function o(p,y,W){if(p instanceof Date)t=
G(p);else yb(t,p,y,W);Q()}function H(p,y,W){p!==ma&&ib(t,p);y!==ma&&Ta(t,y);W!==ma&&ba(t,W);Q()}function d(){return G(t)}function A(){return r}function F(p,y){if(y===ma)return b[p];if(p=="height"||p=="contentHeight"||p=="aspectRatio"){b[p]=y;R()}}function S(p,y){if(b[p])return b[p].apply(y||$,Array.prototype.slice.call(arguments,2))}var Z=this;Z.options=b;Z.render=c;Z.destroy=k;Z.refetchEvents=pa;Z.reportEvents=sa;Z.reportEventChange=ia;Z.rerenderEvents=fa;Z.changeView=x;Z.select=ua;Z.unselect=ra;
Z.prev=X;Z.next=da;Z.prevYear=ja;Z.nextYear=qa;Z.today=E;Z.gotoDate=o;Z.incrementDate=H;Z.formatDate=function(p,y){return Oa(p,y,b)};Z.formatDates=function(p,y,W){return jb(p,y,W,b)};Z.getDate=d;Z.getView=A;Z.option=F;Z.trigger=S;$b.call(Z,b,e);var ya=Z.isFetchNeeded,L=Z.fetchEvents,$=a[0],q,K,O,M,r,D={},V,g,s,v=0,C=0,t=new Date,B=[],I;yb(t,b.year,b.month,b.date);b.droppable&&l(document).bind("dragstart",function(p,y){var W=p.target,ka=l(W);if(!ka.parents(".fc").length){var oa=b.dropAccept;if(l.isFunction(oa)?
oa.call(W,ka):ka.is(oa)){I=W;r.dragStart(I,p,y)}}}).bind("dragstop",function(p,y){if(I){r.dragStop(I,p,y);I=null}})}function Zb(a,b){function e(){n=b.theme?"ui":"fc";if(b.header)return R=l("<table class='fc-header' style='width:100%'/>").append(l("<tr/>").append(f("left")).append(f("center")).append(f("right")))}function c(){R.remove()}function f(U){var N=l("<td class='fc-header-"+U+"'/>");(U=b.header[U])&&l.each(U.split(" "),function(la){la>0&&N.append("<span class='fc-header-space'/>");var ea;l.each(this.split(","),
function(pa,sa){if(sa=="title"){N.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ea&&ea.addClass(n+"-corner-right");ea=null}else{var ia;if(a[sa])ia=a[sa];else if(Fa[sa])ia=function(){na.removeClass(n+"-state-hover");a.changeView(sa)};if(ia){pa=b.theme?kb(b.buttonIcons,sa):null;var fa=kb(b.buttonText,sa),na=l("<span class='fc-button fc-button-"+sa+" "+n+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(pa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+
pa+"'/></span>":fa)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(na){na.click(function(){na.hasClass(n+"-state-disabled")||ia()}).mousedown(function(){na.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-down")}).mouseup(function(){na.removeClass(n+"-state-down")}).hover(function(){na.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-hover")},function(){na.removeClass(n+"-state-hover").removeClass(n+"-state-down")}).appendTo(N);
ea||na.addClass(n+"-corner-left");ea=na}}}});ea&&ea.addClass(n+"-corner-right")});return N}function h(U){R.find("h2").html(U)}function k(U){R.find("span.fc-button-"+U).addClass(n+"-state-active")}function j(U){R.find("span.fc-button-"+U).removeClass(n+"-state-active")}function m(U){R.find("span.fc-button-"+U).addClass(n+"-state-disabled")}function x(U){R.find("span.fc-button-"+U).removeClass(n+"-state-disabled")}var Q=this;Q.render=e;Q.destroy=c;Q.updateTitle=h;Q.activateButton=k;Q.deactivateButton=
j;Q.disableButton=m;Q.enableButton=x;var R=l([]),n}function $b(a,b){function e(d,A){return!da||d<da||A>ja}function c(d,A){da=d;ja=A;H=[];d=++qa;E=A=X.length;for(var F=0;F<A;F++)f(X[F],d)}function f(d,A){h(d,function(F){if(A==qa){if(F){for(var S=0;S<F.length;S++){F[S].source=d;la(F[S])}H=H.concat(F)}E--;E||ua(H)}})}function h(d,A){var F,S=Aa.sourceFetchers,Z;for(F=0;F<S.length;F++){Z=S[F](d,da,ja,A);if(Z===true)return;else if(typeof Z=="object"){h(Z,A);return}}if(F=d.events)if(l.isFunction(F)){U();
F(G(da),G(ja),function(q){A(q);N()})}else l.isArray(F)?A(F):A();else if(d.url){var ya=d.success,L=d.error,$=d.complete;F=l.extend({},d.data||{});S=Ua(d.startParam,a.startParam);Z=Ua(d.endParam,a.endParam);if(S)F[S]=Math.round(+da/1E3);if(Z)F[Z]=Math.round(+ja/1E3);U();l.ajax(l.extend({},ac,d,{data:F,success:function(q){q=q||[];var K=ab(ya,this,arguments);if(l.isArray(K))q=K;A(q)},error:function(){ab(L,this,arguments);A()},complete:function(){ab($,this,arguments);N()}}))}else A()}function k(d){if(d=
j(d)){E++;f(d,qa)}}function j(d){if(l.isFunction(d)||l.isArray(d))d={events:d};else if(typeof d=="string")d={url:d};if(typeof d=="object"){ea(d);X.push(d);return d}}function m(d){X=l.grep(X,function(A){return!pa(A,d)});H=l.grep(H,function(A){return!pa(A.source,d)});ua(H)}function x(d){var A,F=H.length,S,Z=na().defaultEventEnd,ya=d.start-d._start,L=d.end?d.end-(d._end||Z(d)):0;for(A=0;A<F;A++){S=H[A];if(S._id==d._id&&S!=d){S.start=new Date(+S.start+ya);S.end=d.end?S.end?new Date(+S.end+L):new Date(+Z(S)+
L):null;S.title=d.title;S.url=d.url;S.allDay=d.allDay;S.className=d.className;S.editable=d.editable;S.color=d.color;S.backgroudColor=d.backgroudColor;S.borderColor=d.borderColor;S.textColor=d.textColor;la(S)}}la(d);ua(H)}function Q(d,A){la(d);if(!d.source){if(A){ra.events.push(d);d.source=ra}H.push(d)}ua(H)}function R(d){if(d){if(!l.isFunction(d)){var A=d+"";d=function(S){return S._id==A}}H=l.grep(H,d,true);for(F=0;F<X.length;F++)if(l.isArray(X[F].events))X[F].events=l.grep(X[F].events,d,true)}else{H=
[];for(var F=0;F<X.length;F++)if(l.isArray(X[F].events))X[F].events=[]}ua(H)}function n(d){if(l.isFunction(d))return l.grep(H,d);else if(d){d+="";return l.grep(H,function(A){return A._id==d})}return H}function U(){o++||fa("loading",null,true)}function N(){--o||fa("loading",null,false)}function la(d){var A=d.source||{},F=Ua(A.ignoreTimezone,a.ignoreTimezone);d._id=d._id||(d.id===ma?"_fc"+bc++:d.id+"");if(d.date){if(!d.start)d.start=d.date;delete d.date}d._start=G(d.start=lb(d.start,F));d.end=lb(d.end,
F);if(d.end&&d.end<=d.start)d.end=null;d._end=d.end?G(d.end):null;if(d.allDay===ma)d.allDay=Ua(A.allDayDefault,a.allDayDefault);if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[]}function ea(d){if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[];for(var A=Aa.sourceNormalizers,F=0;F<A.length;F++)A[F](d)}function pa(d,A){return d&&A&&sa(d)==sa(A)}function sa(d){return(typeof d=="object"?d.events||
d.url:"")||d}var ia=this;ia.isFetchNeeded=e;ia.fetchEvents=c;ia.addEventSource=k;ia.removeEventSource=m;ia.updateEvent=x;ia.renderEvent=Q;ia.removeEvents=R;ia.clientEvents=n;ia.normalizeEvent=la;var fa=ia.trigger,na=ia.getView,ua=ia.reportEvents,ra={events:[]},X=[ra],da,ja,qa=0,E=0,o=0,H=[];for(ia=0;ia<b.length;ia++)j(b[ia])}function ib(a,b,e){a.setFullYear(a.getFullYear()+b);e||Ka(a);return a}function Ta(a,b,e){if(+a){b=a.getMonth()+b;var c=G(a);c.setDate(1);c.setMonth(b);a.setMonth(b);for(e||Ka(a);a.getMonth()!=
c.getMonth();)a.setDate(a.getDate()+(a<c?1:-1))}return a}function ba(a,b,e){if(+a){b=a.getDate()+b;var c=G(a);c.setHours(9);c.setDate(b);a.setDate(b);e||Ka(a);mb(a,c)}return a}function mb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*cc)}function xa(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ka(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function G(a,b){if(b)return Ka(new Date(+a));return new Date(+a)}function zb(){var a=0,b;do b=new Date(1970,
a++,1);while(b.getHours());return b}function Ga(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)ba(a,b);return a}function Ca(a,b){return Math.round((G(a,true)-G(b,true))/Ab)}function yb(a,b,e,c){if(b!==ma&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==ma&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}c!==ma&&a.setDate(c)}function lb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*
1E3);if(b===ma)b=true;return Bb(a,b)||(a?new Date(a):null)}return null}function Bb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}mb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+
a[12])*1E3);mb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*1E3)}}return e}function nb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],
10):0)}}function Oa(a,b,e){return jb(a,null,b,e)}function jb(a,b,e,c){c=c||Za;var f=a,h=b,k,j=e.length,m,x,Q,R="";for(k=0;k<j;k++){m=e.charAt(k);if(m=="'")for(x=k+1;x<j;x++){if(e.charAt(x)=="'"){if(f){R+=x==k+1?"'":e.substring(k+1,x);k=x}break}}else if(m=="(")for(x=k+1;x<j;x++){if(e.charAt(x)==")"){k=Oa(f,e.substring(k+1,x),c);if(parseInt(k.replace(/\D/,""),10))R+=k;k=x;break}}else if(m=="[")for(x=k+1;x<j;x++){if(e.charAt(x)=="]"){m=e.substring(k+1,x);k=Oa(f,m,c);if(k!=Oa(h,m,c))R+=k;k=x;break}}else if(m==
"{"){f=b;h=a}else if(m=="}"){f=a;h=b}else{for(x=j;x>k;x--)if(Q=dc[e.substring(k,x)]){if(f)R+=Q(f,c);k=x-1;break}if(x==k)if(f)R+=m}}return R}function Va(a){return a.end?ec(a.end,a.allDay):ba(G(a.start),1)}function ec(a,b){a=G(a);return b||a.getHours()||a.getMinutes()?ba(a,1):Ka(a)}function Cb(a,b){return a.end>b.start&&a.start<b.end}function ob(a,b,e,c){var f=[],h,k=a.length,j,m,x,Q,R;for(h=0;h<k;h++){j=a[h];m=j.start;x=b[h];if(x>e&&m<c){if(m<e){m=G(e);Q=false}else{m=m;Q=true}if(x>c){x=G(c);R=false}else{x=
x;R=true}f.push({event:j,start:m,end:x,isStart:Q,isEnd:R,msLength:x-m})}}return f}function pb(a){var b=[],e,c=a.length,f,h,k,j;for(e=0;e<c;e++){f=a[e];for(h=0;;){k=false;if(b[h])for(j=0;j<b[h].length;j++)if(Cb(b[h][j],f)){k=true;break}if(k)h++;else break}if(b[h])b[h].push(f);else b[h]=[f]}return b}function Db(a,b,e){a.unbind("mouseover").mouseover(function(c){for(var f=c.target,h;f!=this;){h=f;f=f.parentNode}if((f=h._fci)!==ma){h._fci=ma;h=b[f];e(h.event,h.element,h);l(c.target).trigger(c)}c.stopPropagation()})}
function Wa(a,b,e){for(var c=0,f;c<a.length;c++){f=l(a[c]);f.width(Math.max(0,b-qb(f,e)))}}function Eb(a,b,e){for(var c=0,f;c<a.length;c++){f=l(a[c]);f.height(Math.max(0,b-Sa(f,e)))}}function qb(a,b){return fc(a)+gc(a)+(b?hc(a):0)}function fc(a){return(parseFloat(l.css(a[0],"paddingLeft",true))||0)+(parseFloat(l.css(a[0],"paddingRight",true))||0)}function hc(a){return(parseFloat(l.css(a[0],"marginLeft",true))||0)+(parseFloat(l.css(a[0],"marginRight",true))||0)}function gc(a){return(parseFloat(l.css(a[0],
"borderLeftWidth",true))||0)+(parseFloat(l.css(a[0],"borderRightWidth",true))||0)}function Sa(a,b){return ic(a)+jc(a)+(b?Fb(a):0)}function ic(a){return(parseFloat(l.css(a[0],"paddingTop",true))||0)+(parseFloat(l.css(a[0],"paddingBottom",true))||0)}function Fb(a){return(parseFloat(l.css(a[0],"marginTop",true))||0)+(parseFloat(l.css(a[0],"marginBottom",true))||0)}function jc(a){return(parseFloat(l.css(a[0],"borderTopWidth",true))||0)+(parseFloat(l.css(a[0],"borderBottomWidth",true))||0)}function $a(a,
b){b=typeof b=="number"?b+"px":b;a.each(function(e,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function xb(){}function Gb(a,b){return a-b}function Hb(a){return Math.max.apply(Math,a)}function Pa(a){return(a<10?"0":"")+a}function kb(a,b){if(a[b]!==ma)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,c;e>=0;e--){c=a[b[e].toLowerCase()];if(c!==ma)return c}return a[""]}function Qa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,
"&quot;").replace(/\n/g,"<br />")}function Ib(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function rb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function bb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function sb(a,b){a.each(function(e,c){c.className=c.className.replace(/^fc-\w*/,
"fc-"+kc[b.getDay()])})}function Jb(a,b){var e=a.source||{},c=a.color,f=e.color,h=b("eventColor"),k=a.backgroundColor||c||e.backgroundColor||f||b("eventBackgroundColor")||h;c=a.borderColor||c||e.borderColor||f||b("eventBorderColor")||h;a=a.textColor||e.textColor||b("eventTextColor");b=[];k&&b.push("background-color:"+k);c&&b.push("border-color:"+c);a&&b.push("color:"+a);return b.join(";")}function ab(a,b,e){if(l.isFunction(a))a=[a];if(a){var c,f;for(c=0;c<a.length;c++)f=a[c].apply(b,e)||f;return f}}
function Ua(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==ma)return arguments[a]}function lc(a,b){function e(j,m){if(m){Ta(j,m);j.setDate(1)}j=G(j,true);j.setDate(1);m=Ta(G(j),1);var x=G(j),Q=G(m),R=f("firstDay"),n=f("weekends")?0:1;if(n){Ga(x);Ga(Q,-1,true)}ba(x,-((x.getDay()-Math.max(R,n)+7)%7));ba(Q,(7-Q.getDay()+Math.max(R,n))%7);R=Math.round((Q-x)/(Ab*7));if(f("weekMode")=="fixed"){ba(Q,(6-R)*7);R=6}c.title=k(j,f("titleFormat"));c.start=j;c.end=m;c.visStart=x;c.visEnd=Q;h(6,R,n?5:7,
true)}var c=this;c.render=e;cb.call(c,a,b,"month");var f=c.opt,h=c.renderBasic,k=b.formatDate}function mc(a,b){function e(j,m){m&&ba(j,m*7);j=ba(G(j),-((j.getDay()-f("firstDay")+7)%7));m=ba(G(j),7);var x=G(j),Q=G(m),R=f("weekends");if(!R){Ga(x);Ga(Q,-1,true)}c.title=k(x,ba(G(Q),-1),f("titleFormat"));c.start=j;c.end=m;c.visStart=x;c.visEnd=Q;h(1,1,R?7:5,false)}var c=this;c.render=e;cb.call(c,a,b,"basicWeek");var f=c.opt,h=c.renderBasic,k=b.formatDates}function nc(a,b){function e(j,m){if(m){ba(j,m);
f("weekends")||Ga(j,m<0?-1:1)}c.title=k(j,f("titleFormat"));c.start=c.visStart=G(j,true);c.end=c.visEnd=ba(G(c.start),1);h(1,1,1,false)}var c=this;c.render=e;cb.call(c,a,b,"basicDay");var f=c.opt,h=c.renderBasic,k=b.formatDate}function cb(a,b,e){function c(u,J,T,Y){v=J;C=T;f();(J=!q)?h(u,Y):A();k(J)}function f(){if(p=H("isRTL")){y=-1;W=C-1}else{y=1;W=0}ka=H("firstDay");oa=H("weekends")?0:1;ha=H("theme")?"ui":"fc";ca=H("columnFormat")}function h(u,J){var T,Y=ha+"-widget-header",ga=ha+"-widget-content",
aa;T="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(aa=0;aa<C;aa++)T+="<th class='fc- "+Y+"'/>";T+="</tr></thead><tbody>";for(aa=0;aa<u;aa++){T+="<tr class='fc-week"+aa+"'>";for(Y=0;Y<C;Y++)T+="<td class='fc- "+ga+" fc-day"+(aa*C+Y)+"'><div>"+(J?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";T+="</tr>"}T+="</tbody></table>";u=l(T).appendTo(a);L=u.find("thead");$=L.find("th");q=u.find("tbody");
K=q.find("tr");O=q.find("td");M=O.filter(":first-child");r=K.eq(0).find("div.fc-day-content div");bb(L.add(L.find("tr")));bb(K);K.eq(0).addClass("fc-first");x(O);D=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function k(u){var J=u||v==1,T=o.start.getMonth(),Y=Ka(new Date),ga,aa,va;J&&$.each(function(wa,Ha){ga=l(Ha);aa=da(wa);ga.html(ya(aa,ca));sb(ga,aa)});O.each(function(wa,Ha){ga=l(Ha);aa=da(wa);aa.getMonth()==T?ga.removeClass("fc-other-month"):ga.addClass("fc-other-month");
+aa==+Y?ga.addClass(ha+"-state-highlight fc-today"):ga.removeClass(ha+"-state-highlight fc-today");ga.find("div.fc-day-number").text(aa.getDate());J&&sb(ga,aa)});K.each(function(wa,Ha){va=l(Ha);if(wa<v){va.show();wa==v-1?va.addClass("fc-last"):va.removeClass("fc-last")}else va.hide()})}function j(u){g=u;u=g-L.height();var J,T,Y;if(H("weekMode")=="variable")J=T=Math.floor(u/(v==1?2:6));else{J=Math.floor(u/v);T=u-J*(v-1)}M.each(function(ga,aa){if(ga<v){Y=l(aa);$a(Y.find("> div"),(ga==v-1?T:J)-Sa(Y))}})}
function m(u){V=u;I.clear();s=Math.floor(V/C);Wa($.slice(0,-1),s)}function x(u){u.click(Q).mousedown(Z)}function Q(u){if(!H("selectable")){var J=parseInt(this.className.match(/fc\-day(\d+)/)[1]);J=da(J);d("dayClick",this,J,true,u)}}function R(u,J,T){T&&t.build();T=G(o.visStart);for(var Y=ba(G(T),C),ga=0;ga<v;ga++){var aa=new Date(Math.max(T,u)),va=new Date(Math.min(Y,J));if(aa<va){var wa;if(p){wa=Ca(va,T)*y+W+1;aa=Ca(aa,T)*y+W+1}else{wa=Ca(aa,T);aa=Ca(va,T)}x(n(ga,wa,ga,aa-1))}ba(T,7);ba(Y,7)}}function n(u,
J,T,Y){u=t.rect(u,J,T,Y,a);return F(u,a)}function U(u){return G(u)}function N(u,J){R(u,ba(G(J),1),true)}function la(){S()}function ea(u,J,T){var Y=ua(u);d("dayClick",O[Y.row*C+Y.col],u,J,T)}function pa(u,J){B.start(function(T){S();T&&n(T.row,T.col,T.row,T.col)},J)}function sa(u,J,T){var Y=B.stop();S();if(Y){Y=ra(Y);d("drop",u,Y,true,J,T)}}function ia(u){return G(u.start)}function fa(u){return I.left(u)}function na(u){return I.right(u)}function ua(u){return{row:Math.floor(Ca(u,o.visStart)/7),col:ja(u.getDay())}}
function ra(u){return X(u.row,u.col)}function X(u,J){return ba(G(o.visStart),u*7+J*y+W)}function da(u){return X(Math.floor(u/C),u%C)}function ja(u){return(u-Math.max(ka,oa)+C)%C*y+W}function qa(u){return K.eq(u)}function E(){return{left:0,right:V}}var o=this;o.renderBasic=c;o.setHeight=j;o.setWidth=m;o.renderDayOverlay=R;o.defaultSelectionEnd=U;o.renderSelection=N;o.clearSelection=la;o.reportDayClick=ea;o.dragStart=pa;o.dragStop=sa;o.defaultEventEnd=ia;o.getHoverListener=function(){return B};o.colContentLeft=
fa;o.colContentRight=na;o.dayOfWeekCol=ja;o.dateCell=ua;o.cellDate=ra;o.cellIsAllDay=function(){return true};o.allDayRow=qa;o.allDayBounds=E;o.getRowCnt=function(){return v};o.getColCnt=function(){return C};o.getColWidth=function(){return s};o.getDaySegmentContainer=function(){return D};Kb.call(o,a,b,e);Lb.call(o);Mb.call(o);oc.call(o);var H=o.opt,d=o.trigger,A=o.clearEvents,F=o.renderOverlay,S=o.clearOverlays,Z=o.daySelectionMousedown,ya=b.formatDate,L,$,q,K,O,M,r,D,V,g,s,v,C,t,B,I,p,y,W,ka,oa,ha,
ca;rb(a.addClass("fc-grid"));t=new Nb(function(u,J){var T,Y,ga;$.each(function(aa,va){T=l(va);Y=T.offset().left;if(aa)ga[1]=Y;ga=[Y];J[aa]=ga});ga[1]=Y+T.outerWidth();K.each(function(aa,va){if(aa<v){T=l(va);Y=T.offset().top;if(aa)ga[1]=Y;ga=[Y];u[aa]=ga}});ga[1]=Y+T.outerHeight()});B=new Ob(t);I=new Pb(function(u){return r.eq(u)})}function oc(){function a(X,da){Q(X);ua(e(X),da)}function b(){R();ea().empty()}function e(X){var da=fa(),ja=na(),qa=G(h.visStart);ja=ba(G(qa),ja);var E=l.map(X,Va),o,H,d,
A,F,S,Z=[];for(o=0;o<da;o++){H=pb(ob(X,E,qa,ja));for(d=0;d<H.length;d++){A=H[d];for(F=0;F<A.length;F++){S=A[F];S.row=o;S.level=d;Z.push(S)}}ba(qa,7);ba(ja,7)}return Z}function c(X,da,ja){m(X)&&f(X,da);ja.isEnd&&x(X)&&ra(X,da,ja);n(X,da)}function f(X,da){var ja=pa(),qa;da.draggable({zIndex:9,delay:50,opacity:k("dragOpacity"),revertDuration:k("dragRevertDuration"),start:function(E,o){j("eventDragStart",da,X,E,o);N(X,da);ja.start(function(H,d,A,F){da.draggable("option","revert",!H||!A&&!F);ia();if(H){qa=
A*7+F*(k("isRTL")?-1:1);sa(ba(G(X.start),qa),ba(Va(X),qa))}else qa=0},E,"drag")},stop:function(E,o){ja.stop();ia();j("eventDragStop",da,X,E,o);if(qa)la(this,X,qa,0,X.allDay,E,o);else{da.css("filter","");U(X,da)}}})}var h=this;h.renderEvents=a;h.compileDaySegs=e;h.clearEvents=b;h.bindDaySeg=c;Qb.call(h);var k=h.opt,j=h.trigger,m=h.isEventDraggable,x=h.isEventResizable,Q=h.reportEvents,R=h.reportEventClear,n=h.eventElementHandlers,U=h.showEvents,N=h.hideEvents,la=h.eventDrop,ea=h.getDaySegmentContainer,
pa=h.getHoverListener,sa=h.renderDayOverlay,ia=h.clearOverlays,fa=h.getRowCnt,na=h.getColCnt,ua=h.renderDaySegs,ra=h.resizableDayEvent}function pc(a,b){function e(j,m){if(m){Ta(j,m);j.setDate(1)}j=G(j,true);j.setDate(1);m=Ta(G(j),1);var x=G(j),Q=G(m);f("firstDay");c.title=k(j,f("titleFormat"));c.start=j;c.end=m;c.visStart=x;c.visEnd=Q;h(1,1,31,true)}var c=this;c.render=e;cb.call(c,a,b,"singleRowMonth");var f=c.opt,h=c.renderBasic,k=b.formatDate;c.calendar.options.contentHeight=58;c.calendar.options.isSingleRow=
true}function qc(a,b){function e(j,m){m&&ba(j,m*7);j=ba(G(j),-((j.getDay()-f("firstDay")+7)%7));m=ba(G(j),7);var x=G(j),Q=G(m),R=f("weekends");if(!R){Ga(x);Ga(Q,-1,true)}c.title=k(x,ba(G(Q),-1),f("titleFormat"));c.start=j;c.end=m;c.visStart=x;c.visEnd=Q;h(R?7:5)}var c=this;c.render=e;Rb.call(c,a,b,"agendaWeek");var f=c.opt,h=c.renderAgenda,k=b.formatDates}function rc(a,b){function e(j,m){if(m){ba(j,m);f("weekends")||Ga(j,m<0?-1:1)}m=G(j,true);var x=ba(G(m),1);c.title=k(j,f("titleFormat"));c.start=
c.visStart=m;c.end=c.visEnd=x;h(1)}var c=this;c.render=e;Rb.call(c,a,b,"agendaDay");var f=c.opt,h=c.renderAgenda,k=b.formatDate}function Rb(a,b,e){function c(i){Ba=i;f();v?K():h();k()}function f(){Xa=$("theme")?"ui":"fc";Sb=$("weekends")?0:1;Tb=$("firstDay");if(Ub=$("isRTL")){Ia=-1;Ja=Ba-1}else{Ia=1;Ja=0}La=nb($("minTime"));db=nb($("maxTime"));Vb=$("columnFormat")}function h(){var i=Xa+"-widget-header",P=Xa+"-widget-content",w,z,ta,za,Da,Ea=$("slotMinutes")%15==0;w="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+
i+"'>&nbsp;</th>";for(z=0;z<Ba;z++)w+="<th class='fc- fc-col"+z+" "+i+"'/>";w+="<th class='fc-agenda-gutter "+i+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>";for(z=0;z<Ba;z++)w+="<td class='fc- fc-col"+z+" "+P+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";w+="<td class='fc-agenda-gutter "+P+"'>&nbsp;</td></tr></tbody></table>";v=l(w).appendTo(a);C=v.find("thead");t=C.find("th").slice(1,-1);B=v.find("tbody");
I=B.find("td").slice(0,-1);p=I.find("div.fc-day-content div");y=I.eq(0);W=y.find("> div");bb(C.add(C.find("tr")));bb(B.add(B.find("tr")));aa=C.find("th:first");va=v.find(".fc-agenda-gutter");ka=l("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if($("allDaySlot")){oa=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ka);w="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+i+" fc-agenda-axis'>"+$("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
i+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ha=l(w).appendTo(ka);ca=ha.find("tr");n(ca.find("td"));aa=aa.add(ha.find("th:first"));va=va.add(ha.find("th.fc-agenda-gutter"));ka.append("<div class='fc-agenda-divider "+i+"'><div class='fc-agenda-divider-inner'/></div>")}else oa=l([]);u=l("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ka);J=l("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(u);T=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(J);
w="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ta=zb();za=xa(G(ta),db);xa(ta,La);for(z=tb=0;ta<za;z++){Da=ta.getMinutes();w+="<tr class='fc-slot"+z+" "+(!Da?"":"fc-minor")+"'><th class='fc-agenda-axis "+i+"'>"+(!Ea||!Da?s(ta,$("axisFormat")):"&nbsp;")+"</th><td class='"+P+"'><div style='position:relative'>&nbsp;</div></td></tr>";xa(ta,$("slotMinutes"));tb++}w+="</tbody></table>";Y=l(w).appendTo(J);ga=Y.find("div:first");U(Y.find("td"));aa=aa.add(Y.find("th:first"))}
function k(){var i,P,w,z,ta=Ka(new Date);for(i=0;i<Ba;i++){z=ua(i);P=t.eq(i);P.html(s(z,Vb));w=I.eq(i);+z==+ta?w.addClass(Xa+"-state-highlight fc-today"):w.removeClass(Xa+"-state-highlight fc-today");sb(P.add(w),z)}}function j(i,P){if(i===ma)i=Wb;Wb=i;ub={};var w=B.position().top,z=u.position().top;i=Math.min(i-w,Y.height()+z+1);W.height(i-Sa(y));ka.css("top",w);u.height(i-z-1);Ya=ga.height()+1;P&&x()}function m(i){Ha=i;eb.clear();Ma=0;Wa(aa.width("").each(function(P,w){Ma=Math.max(Ma,l(w).outerWidth())}),
Ma);i=u[0].clientWidth;if(vb=u.width()-i){Wa(va,vb);va.show().prev().removeClass("fc-last")}else va.hide().prev().addClass("fc-last");fb=Math.floor((i-Ma)/Ba);Wa(t.slice(0,-1),fb)}function x(){function i(){u.scrollTop(z)}var P=zb(),w=G(P);w.setHours($("firstHour"));var z=da(P,w)+1;i();setTimeout(i,0)}function Q(){Xb=u.scrollTop()}function R(){u.scrollTop(Xb)}function n(i){i.click(N).mousedown(V)}function U(i){i.click(N).mousedown(F)}function N(i){if(!$("selectable")){var P=Math.min(Ba-1,Math.floor((i.pageX-
v.offset().left-Ma)/fb)),w=ua(P),z=this.parentNode.className.match(/fc-slot(\d+)/);if(z){z=parseInt(z[1])*$("slotMinutes");var ta=Math.floor(z/60);w.setHours(ta);w.setMinutes(z%60+La);q("dayClick",I[P],w,false,i)}else q("dayClick",I[P],w,true,i)}}function la(i,P,w){w&&Na.build();var z=G(L.visStart);if(Ub){w=Ca(P,z)*Ia+Ja+1;i=Ca(i,z)*Ia+Ja+1}else{w=Ca(i,z);i=Ca(P,z)}w=Math.max(0,w);i=Math.min(Ba,i);w<i&&n(ea(0,w,0,i-1))}function ea(i,P,w,z){i=Na.rect(i,P,w,z,ka);return O(i,ka)}function pa(i,P){for(var w=
G(L.visStart),z=ba(G(w),1),ta=0;ta<Ba;ta++){var za=new Date(Math.max(w,i)),Da=new Date(Math.min(z,P));if(za<Da){var Ea=ta*Ia+Ja;Ea=Na.rect(0,Ea,0,Ea,J);za=da(w,za);Da=da(w,Da);Ea.top=za;Ea.height=Da-za;U(O(Ea,J))}ba(w,1);ba(z,1)}}function sa(i){return eb.left(i)}function ia(i){return eb.right(i)}function fa(i){return{row:Math.floor(Ca(i,L.visStart)/7),col:X(i.getDay())}}function na(i){var P=ua(i.col);i=i.row;$("allDaySlot")&&i--;i>=0&&xa(P,La+i*$("slotMinutes"));return P}function ua(i){return ba(G(L.visStart),
i*Ia+Ja)}function ra(i){return $("allDaySlot")&&!i.row}function X(i){return(i-Math.max(Tb,Sb)+Ba)%Ba*Ia+Ja}function da(i,P){i=G(i,true);if(P<xa(G(i),La))return 0;if(P>=xa(G(i),db))return Y.height();i=$("slotMinutes");P=P.getHours()*60+P.getMinutes()-La;var w=Math.floor(P/i),z=ub[w];if(z===ma)z=ub[w]=Y.find("tr:eq("+w+") td div")[0].offsetTop;return Math.max(0,Math.round(z-1+Ya*(P%i/i)))}function ja(){return{left:Ma,right:Ha-vb}}function qa(){return ca}function E(i){var P=G(i.start);if(i.allDay)return P;
return xa(P,$("defaultEventMinutes"))}function o(i,P){if(P)return G(i);return xa(G(i),$("slotMinutes"))}function H(i,P,w){if(w)$("allDaySlot")&&la(i,ba(G(P),1),true);else d(i,P)}function d(i,P){var w=$("selectHelper");Na.build();if(w){var z=Ca(i,L.visStart)*Ia+Ja;if(z>=0&&z<Ba){z=Na.rect(0,z,0,z,J);var ta=da(i,i),za=da(i,P);if(za>ta){z.top=ta;z.height=za-ta;z.left+=2;z.width-=5;if(l.isFunction(w)){if(i=w(i,P)){z.position="absolute";z.zIndex=8;wa=l(i).css(z).appendTo(J)}}else{z.isStart=true;z.isEnd=
true;wa=l(g({title:"",start:i,end:P,className:["fc-select-helper"],editable:false},z));wa.css("opacity",$("dragOpacity"))}if(wa){U(wa);J.append(wa);Wa(wa,z.width,true);Eb(wa,z.height,true)}}}}else pa(i,P)}function A(){M();if(wa){wa.remove();wa=null}}function F(i){if(i.which==1&&$("selectable")){D(i);var P;Ra.start(function(w,z){A();if(w&&w.col==z.col&&!ra(w)){z=na(z);w=na(w);P=[z,xa(G(z),$("slotMinutes")),w,xa(G(w),$("slotMinutes"))].sort(Gb);d(P[0],P[3])}else P=null},i);l(document).one("mouseup",
function(w){Ra.stop();if(P){+P[0]==+P[1]&&S(P[0],false,w);r(P[0],P[3],false,w)}})}}function S(i,P,w){q("dayClick",I[X(i.getDay())],i,P,w)}function Z(i,P){Ra.start(function(w){M();if(w)if(ra(w))ea(w.row,w.col,w.row,w.col);else{w=na(w);var z=xa(G(w),$("defaultEventMinutes"));pa(w,z)}},P)}function ya(i,P,w){var z=Ra.stop();M();z&&q("drop",i,na(z),ra(z),P,w)}var L=this;L.renderAgenda=c;L.setWidth=m;L.setHeight=j;L.beforeHide=Q;L.afterShow=R;L.defaultEventEnd=E;L.timePosition=da;L.dayOfWeekCol=X;L.dateCell=
fa;L.cellDate=na;L.cellIsAllDay=ra;L.allDayRow=qa;L.allDayBounds=ja;L.getHoverListener=function(){return Ra};L.colContentLeft=sa;L.colContentRight=ia;L.getDaySegmentContainer=function(){return oa};L.getSlotSegmentContainer=function(){return T};L.getMinMinute=function(){return La};L.getMaxMinute=function(){return db};L.getBodyContent=function(){return J};L.getRowCnt=function(){return 1};L.getColCnt=function(){return Ba};L.getColWidth=function(){return fb};L.getSlotHeight=function(){return Ya};L.defaultSelectionEnd=
o;L.renderDayOverlay=la;L.renderSelection=H;L.clearSelection=A;L.reportDayClick=S;L.dragStart=Z;L.dragStop=ya;Kb.call(L,a,b,e);Lb.call(L);Mb.call(L);sc.call(L);var $=L.opt,q=L.trigger,K=L.clearEvents,O=L.renderOverlay,M=L.clearOverlays,r=L.reportSelection,D=L.unselect,V=L.daySelectionMousedown,g=L.slotSegHtml,s=b.formatDate,v,C,t,B,I,p,y,W,ka,oa,ha,ca,u,J,T,Y,ga,aa,va,wa,Ha,Wb,Ma,fb,vb,Ya,Xb,Ba,tb,Na,Ra,eb,ub={},Xa,Tb,Sb,Ub,Ia,Ja,La,db,Vb;rb(a.addClass("fc-agenda"));Na=new Nb(function(i,P){function w(gb){return Math.max(Ea,
Math.min(tc,gb))}var z,ta,za;t.each(function(gb,uc){z=l(uc);ta=z.offset().left;if(gb)za[1]=ta;za=[ta];P[gb]=za});za[1]=ta+z.outerWidth();if($("allDaySlot")){z=ca;ta=z.offset().top;i[0]=[ta,ta+z.outerHeight()]}for(var Da=J.offset().top,Ea=u.offset().top,tc=Ea+u.outerHeight(),hb=0;hb<tb;hb++)i.push([w(Da+Ya*hb),w(Da+Ya*(hb+1))])});Ra=new Ob(Na);eb=new Pb(function(i){return p.eq(i)})}function sc(){function a(g,s){sa(g);var v,C=g.length,t=[],B=[];for(v=0;v<C;v++)g[v].allDay?t.push(g[v]):B.push(g[v]);
if(U("allDaySlot")){H(e(t),s);na()}h(c(B),s)}function b(){ia();ua().empty();ra().empty()}function e(g){g=pb(ob(g,l.map(g,Va),n.visStart,n.visEnd));var s,v=g.length,C,t,B,I=[];for(s=0;s<v;s++){C=g[s];for(t=0;t<C.length;t++){B=C[t];B.row=0;B.level=s;I.push(B)}}return I}function c(g){var s=A(),v=ja(),C=da(),t=xa(G(n.visStart),v),B=l.map(g,f),I,p,y,W,ka,oa,ha=[];for(I=0;I<s;I++){p=pb(ob(g,B,t,xa(G(t),C-v)));vc(p);for(y=0;y<p.length;y++){W=p[y];for(ka=0;ka<W.length;ka++){oa=W[ka];oa.col=I;oa.level=y;ha.push(oa)}}ba(t,
1,true)}return ha}function f(g){return g.end?G(g.end):xa(G(g.start),U("defaultEventMinutes"))}function h(g,s){var v,C=g.length,t,B,I,p,y,W,ka,oa,ha,ca="",u,J,T={},Y={},ga=ra(),aa;v=A();if(u=U("isRTL")){J=-1;aa=v-1}else{J=1;aa=0}for(v=0;v<C;v++){t=g[v];B=t.event;I=qa(t.start,t.start);p=qa(t.start,t.end);y=t.col;W=t.level;ka=t.forward||0;oa=E(y*J+aa);ha=o(y*J+aa)-oa;ha=Math.min(ha-6,ha*0.95);y=W?ha/(W+ka+1):ka?(ha/(ka+1)-6)*2:ha;W=oa+ha/(W+ka+1)*W*J+(u?ha-y:0);t.top=I;t.left=W;t.outerWidth=y;t.outerHeight=
p-I;ca+=k(B,t)}ga[0].innerHTML=ca;u=ga.children();for(v=0;v<C;v++){t=g[v];B=t.event;ca=l(u[v]);J=N("eventRender",B,B,ca);if(J===false)ca.remove();else{if(J&&J!==true){ca.remove();ca=l(J).css({position:"absolute",top:t.top,left:t.left}).appendTo(ga)}t.element=ca;if(B._id===s)m(B,ca,t);else ca[0]._fci=v;ya(B,ca)}}Db(ga,g,m);for(v=0;v<C;v++){t=g[v];if(ca=t.element){B=T[s=t.key=Ib(ca[0])];t.vsides=B===ma?(T[s]=Sa(ca,true)):B;B=Y[s];t.hsides=B===ma?(Y[s]=qb(ca,true)):B;s=ca.find("div.fc-event-content");
if(s.length)t.contentTop=s[0].offsetTop}}for(v=0;v<C;v++){t=g[v];if(ca=t.element){ca[0].style.width=Math.max(0,t.outerWidth-t.hsides)+"px";T=Math.max(0,t.outerHeight-t.vsides);ca[0].style.height=T+"px";B=t.event;if(t.contentTop!==ma&&T-t.contentTop<10){ca.find("div.fc-event-time").text(D(B.start,U("timeFormat"))+" - "+B.title);ca.find("div.fc-event-title").remove()}N("eventAfterRender",B,B,ca)}}}function k(g,s){var v="<",C=g.url,t=Jb(g,U),B=t?" style='"+t+"'":"",I=["fc-event","fc-event-skin","fc-event-vert"];
la(g)&&I.push("fc-event-draggable");s.isStart&&I.push("fc-corner-top");s.isEnd&&I.push("fc-corner-bottom");I=I.concat(g.className);if(g.source)I=I.concat(g.source.className||[]);v+=C?"a href='"+Qa(g.url)+"'":"div";v+=" class='"+I.join(" ")+"' style='position:absolute;z-index:8;top:"+s.top+"px;left:"+s.left+"px;"+t+"'><div class='fc-event-inner fc-event-skin'"+B+"><div class='fc-event-head fc-event-skin'"+B+"><div class='fc-event-time'>"+Qa(V(g.start,g.end,U("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+
Qa(g.title)+"</div></div><div class='fc-event-bg'></div></div>";if(s.isEnd&&ea(g))v+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";v+="</"+(C?"a":"div")+">";return v}function j(g,s,v){la(g)&&x(g,s,v.isStart);v.isEnd&&ea(g)&&d(g,s,v);fa(g,s)}function m(g,s,v){var C=s.find("div.fc-event-time");la(g)&&Q(g,s,C);v.isEnd&&ea(g)&&R(g,s,C);fa(g,s)}function x(g,s,v){function C(){if(!I){s.width(t).height("").draggable("option","grid",null);I=true}}var t,B,I=true,p,y=U("isRTL")?-1:1,W=X(),ka=F(),
oa=S(),ha=ja();s.draggable({zIndex:9,opacity:U("dragOpacity","month"),revertDuration:U("dragRevertDuration"),start:function(ca,u){N("eventDragStart",s,g,ca,u);$(g,s);t=s.width();W.start(function(J,T,Y,ga){M();if(J){B=false;p=ga*y;if(J.row)if(v){if(I){s.width(ka-10);Eb(s,oa*Math.round((g.end?(g.end-g.start)/wc:U("defaultEventMinutes"))/U("slotMinutes")));s.draggable("option","grid",[ka,1]);I=false}}else B=true;else{O(ba(G(g.start),p),ba(Va(g),p));C()}B=B||I&&!p}else{C();B=true}s.draggable("option",
"revert",B)},ca,"drag")},stop:function(ca,u){W.stop();M();N("eventDragStop",s,g,ca,u);if(B){C();s.css("filter","");L(g,s)}else{var J=0;I||(J=Math.round((s.offset().top-Z().offset().top)/oa)*U("slotMinutes")+ha-(g.start.getHours()*60+g.start.getMinutes()));q(this,g,p,J,I,ca,u)}}})}function Q(g,s,v){function C(J){var T=xa(G(g.start),J),Y;if(g.end)Y=xa(G(g.end),J);v.text(V(T,Y,U("timeFormat")))}function t(){if(I){v.css("display","");s.draggable("option","grid",[ca,u]);I=false}}var B,I=false,p,y,W,ka=
U("isRTL")?-1:1,oa=X(),ha=A(),ca=F(),u=S();s.draggable({zIndex:9,scroll:false,grid:[ca,u],axis:ha==1?"y":false,opacity:U("dragOpacity"),revertDuration:U("dragRevertDuration"),start:function(J,T){N("eventDragStart",s,g,J,T);$(g,s);B=s.position();y=W=0;oa.start(function(Y,ga,aa,va){s.draggable("option","revert",!Y);M();if(Y){p=va*ka;if(U("allDaySlot")&&!Y.row){if(!I){I=true;v.hide();s.draggable("option","grid",null)}O(ba(G(g.start),p),ba(Va(g),p))}else t()}},J,"drag")},drag:function(J,T){y=Math.round((T.position.top-
B.top)/u)*U("slotMinutes");if(y!=W){I||C(y);W=y}},stop:function(J,T){var Y=oa.stop();M();N("eventDragStop",s,g,J,T);if(Y&&(p||y||I))q(this,g,p,I?0:y,I,J,T);else{t();s.css("filter","");s.css(B);C(0);L(g,s)}}})}function R(g,s,v){var C,t,B=S();s.resizable({handles:{s:"div.ui-resizable-s"},grid:B,start:function(I,p){C=t=0;$(g,s);s.css("z-index",9);N("eventResizeStart",this,g,I,p)},resize:function(I,p){C=Math.round((Math.max(B,s.height())-p.originalSize.height)/B);if(C!=t){v.text(V(g.start,!C&&!g.end?
null:xa(pa(g),U("slotMinutes")*C),U("timeFormat")));t=C}},stop:function(I,p){N("eventResizeStop",this,g,I,p);if(C)K(this,g,0,U("slotMinutes")*C,I,p);else{s.css("z-index",8);L(g,s)}}})}var n=this;n.renderEvents=a;n.compileDaySegs=e;n.clearEvents=b;n.slotSegHtml=k;n.bindDaySeg=j;Qb.call(n);var U=n.opt,N=n.trigger,la=n.isEventDraggable,ea=n.isEventResizable,pa=n.eventEnd,sa=n.reportEvents,ia=n.reportEventClear,fa=n.eventElementHandlers,na=n.setHeight,ua=n.getDaySegmentContainer,ra=n.getSlotSegmentContainer,
X=n.getHoverListener,da=n.getMaxMinute,ja=n.getMinMinute,qa=n.timePosition,E=n.colContentLeft,o=n.colContentRight,H=n.renderDaySegs,d=n.resizableDayEvent,A=n.getColCnt,F=n.getColWidth,S=n.getSlotHeight,Z=n.getBodyContent,ya=n.reportEventElement,L=n.showEvents,$=n.hideEvents,q=n.eventDrop,K=n.eventResize,O=n.renderDayOverlay,M=n.clearOverlays,r=n.calendar,D=r.formatDate,V=r.formatDates}function vc(a){var b,e,c,f,h,k;for(b=a.length-1;b>0;b--){f=a[b];for(e=0;e<f.length;e++){h=f[e];for(c=0;c<a[b-1].length;c++){k=
a[b-1][c];if(Cb(h,k))k.forward=Math.max(k.forward||0,(h.forward||0)+1)}}}}function Kb(a,b,e){function c(E,o){E=qa[E];if(typeof E=="object")return kb(E,o||e);return E}function f(E,o){return b.trigger.apply(b,[E,o||fa].concat(Array.prototype.slice.call(arguments,2),[fa]))}function h(E){return j(E)&&!c("disableDragging")}function k(E){return j(E)&&!c("disableResizing")}function j(E){return Ua(E.editable,(E.source||{}).editable,c("editable"))}function m(E){X={};var o,H=E.length,d;for(o=0;o<H;o++){d=E[o];
if(X[d._id])X[d._id].push(d);else X[d._id]=[d]}}function x(E){return E.end?G(E.end):na(E)}function Q(E,o){da.push(o);if(ja[E._id])ja[E._id].push(o);else ja[E._id]=[o]}function R(){da=[];ja={}}function n(E,o){o.click(function(H){if(!o.hasClass("ui-draggable-dragging")&&!o.hasClass("ui-resizable-resizing"))return f("eventClick",this,E,H)}).hover(function(H){f("eventMouseover",this,E,H)},function(H){f("eventMouseout",this,E,H)})}function U(E,o){la(E,o,"show")}function N(E,o){la(E,o,"hide")}function la(E,
o,H){E=ja[E._id];var d,A=E.length;for(d=0;d<A;d++)if(!o||E[d][0]!=o[0])E[d][H]()}function ea(E,o,H,d,A,F,S){var Z=o.allDay,ya=o._id;sa(X[ya],H,d,A);f("eventDrop",E,o,H,d,A,function(){sa(X[ya],-H,-d,Z);ra(ya)},F,S);ra(ya)}function pa(E,o,H,d,A,F){var S=o._id;ia(X[S],H,d);f("eventResize",E,o,H,d,function(){ia(X[S],-H,-d);ra(S)},A,F);ra(S)}function sa(E,o,H,d){H=H||0;for(var A,F=E.length,S=0;S<F;S++){A=E[S];if(d!==ma)A.allDay=d;xa(ba(A.start,o,true),H);if(A.end)A.end=xa(ba(A.end,o,true),H);ua(A,qa)}}
function ia(E,o,H){H=H||0;for(var d,A=E.length,F=0;F<A;F++){d=E[F];d.end=xa(ba(x(d),o,true),H);ua(d,qa)}}var fa=this;fa.element=a;fa.calendar=b;fa.name=e;fa.opt=c;fa.trigger=f;fa.isEventDraggable=h;fa.isEventResizable=k;fa.reportEvents=m;fa.eventEnd=x;fa.reportEventElement=Q;fa.reportEventClear=R;fa.eventElementHandlers=n;fa.showEvents=U;fa.hideEvents=N;fa.eventDrop=ea;fa.eventResize=pa;var na=fa.defaultEventEnd,ua=b.normalizeEvent,ra=b.reportEventChange,X={},da=[],ja={},qa=b.options}function Qb(){function a(q,
K){var O=F(),M=X(),r=da(),D=0,V,g,s=q.length,v,C;O[0].innerHTML=c(q);f(q,O.children());h(q);k(q,O,K);j(q);m(q);x(q);K=Q();for(O=0;O<M;O++){V=[];for(g=0;g<r;g++)V[g]=0;for(;D<s&&(v=q[D]).row==O;){g=Hb(V.slice(v.startCol,v.endCol));v.top=isFinite(g)?g:0;g+=v.outerHeight;for(C=v.startCol;C<v.endCol;C++)V[C]=g;D++}K[O].height(Hb(V))}n(q,R(K))}function b(q,K,O){var M=l("<div/>"),r=F(),D=q.length,V;M[0].innerHTML=c(q);M=M.children();r.append(M);f(q,M);j(q);m(q);x(q);n(q,R(Q()));M=[];for(r=0;r<D;r++)if(V=
q[r].element){q[r].row===K&&V.css("top",O);M.push(V[0])}return l(M)}function e(q,K){return 32-(new Date(K,q,32)).getDate()}function c(q){var K=la("isRTL"),O=la("isSingleRow"),M,r=q.length,D,V,g,s;M=qa();var v=M.left,C=M.right,t,B,I,p,y,W="";for(M=0;M<r;M++){D=q[M];V=D.event;s=["fc-event","fc-event-skin","fc-event-hori"];pa(V)&&s.push("fc-event-draggable");if(K){D.isStart&&s.push("fc-corner-right");D.isEnd&&s.push("fc-corner-left");if(O){t=D.start.getDate()-1;B=D.end.getDate()-2;if(D.end.getMonth()>
N.start.getMonth())B+=e(N.start.getMonth(),N.start.getYear())}else{t=H(D.start.getDay());B=H(D.end.getDay()-1)}I=D.isEnd?E(t):v;p=D.isStart?o(B):C}else{D.isStart&&s.push("fc-corner-left");D.isEnd&&s.push("fc-corner-right");if(O){t=D.start.getDate()-1;B=D.end.getDate()-2;if(D.end.getMonth()>N.start.getMonth())B+=e(N.start.getMonth(),N.start.getYear())}else{t=H(D.start.getDay());B=H(D.end.getDay()-1)}I=D.isStart?E(t):v;p=D.isEnd?o(B):C}s=s.concat(V.className);if(V.source)s=s.concat(V.source.className||
[]);g=V.url;y=Jb(V,la);W+=g?"<a href='"+Qa(g)+"'":"<div";W+=" class='"+s.join(" ")+"' style='position:absolute;z-index:8;left:"+I+"px;"+y+"'><div class='fc-event-inner fc-event-skin'"+(y?" style='"+y+"'":"")+">";if(!V.allDay&&D.isStart)W+="<span class='fc-event-time'>"+Qa(Z(V.start,V.end,la("timeFormat")))+"</span>";W+="<span class='fc-event-title'>"+Qa(V.title)+"</span></div>";if(D.isEnd&&sa(V))W+="<div class='ui-resizable-handle ui-resizable-"+(K?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";W+="</"+(g?
"a":"div")+">";D.left=I;D.outerWidth=p-I;D.startCol=t;D.endCol=B+1}return W}function f(q,K){var O,M=q.length,r,D,V;for(O=0;O<M;O++){r=q[O];D=r.event;V=l(K[O]);D=ea("eventRender",D,D,V);if(D===false)V.remove();else{if(D&&D!==true){D=l(D).css({position:"absolute",left:r.left});V.replaceWith(D);V=D}r.element=V}}}function h(q){var K,O=q.length,M,r;for(K=0;K<O;K++){M=q[K];(r=M.element)&&fa(M.event,r)}}function k(q,K,O){var M,r=q.length,D,V,g;for(M=0;M<r;M++){D=q[M];if(V=D.element){g=D.event;if(g._id===
O)S(g,V,D);else V[0]._fci=M}}Db(K,q,S)}function j(q){var K,O=q.length,M,r,D,V,g={};for(K=0;K<O;K++){M=q[K];if(r=M.element){D=M.key=Ib(r[0]);V=g[D];if(V===ma)V=g[D]=qb(r,true);M.hsides=V}}}function m(q){var K,O=q.length,M,r;for(K=0;K<O;K++){M=q[K];if(r=M.element)r[0].style.width=Math.max(0,M.outerWidth-M.hsides)+"px"}}function x(q){var K,O=q.length,M,r,D,V,g={};for(K=0;K<O;K++){M=q[K];if(r=M.element){D=M.key;V=g[D];if(V===ma)V=g[D]=Fb(r);M.outerHeight=r[0].offsetHeight+V}}}function Q(){var q,K=X(),
O=[];for(q=0;q<K;q++)O[q]=ja(q).find("td:first div.fc-day-content > div");return O}function R(q){var K,O=q.length,M=[];for(K=0;K<O;K++)M[K]=q[K][0].offsetTop;return M}function n(q,K){var O,M=q.length,r,D;for(O=0;O<M;O++){r=q[O];if(D=r.element){D[0].style.top=K[r.row]+(r.top||0)+"px";r=r.event;ea("eventAfterRender",r,r,D)}}}function U(q,K,O){var M=la("isRTL"),r=M?"w":"e",D=K.find("div.ui-resizable-"+r),V=false;rb(K);K.mousedown(function(g){g.preventDefault()}).click(function(g){if(V){g.preventDefault();
g.stopImmediatePropagation()}});D.mousedown(function(g){function s(ha){ea("eventResizeStop",this,q,ha);l("body").css("cursor","");v.stop();L();y&&ra(this,q,y,0,ha);setTimeout(function(){V=false},0)}if(g.which==1){V=true;var v=N.getHoverListener(),C=X(),t=da(),B=M?-1:1,I=M?t-1:0,p=K.css("top"),y,W,ka=l.extend({},q),oa=d(q.start);$();l("body").css("cursor",r+"-resize").one("mouseup",s);ea("eventResizeStart",this,q,g);v.start(function(ha,ca){if(ha){var u=Math.max(oa.row,ha.row);ha=ha.col;if(C==1)u=0;
if(u==oa.row)ha=M?Math.min(oa.col,ha):Math.max(oa.col,ha);y=u*7+ha*B+I-(ca.row*7+ca.col*B+I);ca=ba(ia(q),y,true);if(y){ka.end=ca;u=W;W=b(A([ka]),O.row,p);W.find("*").css("cursor",r+"-resize");u&&u.remove();ua(q)}else if(W){na(q);W.remove();W=null}L();ya(q.start,ba(G(ca),1))}},g)}})}var N=this;N.renderDaySegs=a;N.resizableDayEvent=U;var la=N.opt,ea=N.trigger,pa=N.isEventDraggable,sa=N.isEventResizable,ia=N.eventEnd,fa=N.reportEventElement,na=N.showEvents,ua=N.hideEvents,ra=N.eventResize,X=N.getRowCnt,
da=N.getColCnt,ja=N.allDayRow,qa=N.allDayBounds,E=N.colContentLeft,o=N.colContentRight,H=N.dayOfWeekCol,d=N.dateCell,A=N.compileDaySegs,F=N.getDaySegmentContainer,S=N.bindDaySeg,Z=N.calendar.formatDates,ya=N.renderDayOverlay,L=N.clearOverlays,$=N.clearSelection}function Mb(){function a(R,n,U){b();n||(n=j(R,U));m(R,n,U);e(R,n,U)}function b(R){if(Q){Q=false;x();k("unselect",null,R)}}function e(R,n,U,N){Q=true;k("select",null,R,n,U,N)}function c(R){var n=f.cellDate,U=f.cellIsAllDay,N=f.getHoverListener(),
la=f.reportDayClick;if(R.which==1&&h("selectable")){b(R);var ea;N.start(function(pa,sa){x();if(pa&&U(pa)){ea=[n(sa),n(pa)].sort(Gb);m(ea[0],ea[1],true)}else ea=null},R);l(document).one("mouseup",function(pa){N.stop();if(ea){+ea[0]==+ea[1]&&la(ea[0],true,pa);e(ea[0],ea[1],true,pa)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=e;f.daySelectionMousedown=c;var h=f.opt,k=f.trigger,j=f.defaultSelectionEnd,m=f.renderSelection,x=f.clearSelection,Q=false;h("selectable")&&h("unselectAuto")&&l(document).mousedown(function(R){var n=
h("unselectCancel");if(n)if(l(R.target).parents(n).length)return;b(R)})}function Lb(){function a(h,k){var j=f.shift();j||(j=l("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));j[0].parentNode!=k[0]&&j.appendTo(k);c.push(j.css(h).show());return j}function b(){for(var h;h=c.shift();)f.push(h.hide().unbind())}var e=this;e.renderOverlay=a;e.clearOverlays=b;var c=[],f=[]}function Nb(a){var b=this,e,c;b.build=function(){e=[];c=[];a(e,c)};b.cell=function(f,h){var k=e.length,j=c.length,
m,x=-1,Q=-1;for(m=0;m<k;m++)if(h>=e[m][0]&&h<e[m][1]){x=m;break}for(m=0;m<j;m++)if(f>=c[m][0]&&f<c[m][1]){Q=m;break}return x>=0&&Q>=0?{row:x,col:Q}:null};b.rect=function(f,h,k,j,m){m=m.offset();return{top:e[f][0]-m.top,left:c[h][0]-m.left,width:c[j][1]-c[h][0],height:e[k][1]-e[f][0]}}}function Ob(a){function b(j){xc(j);j=a.cell(j.pageX,j.pageY);if(!j!=!k||j&&(j.row!=k.row||j.col!=k.col)){if(j){h||(h=j);f(j,h,j.row-h.row,j.col-h.col)}else f(j,h);k=j}}var e=this,c,f,h,k;e.start=function(j,m,x){f=j;
h=k=null;a.build();b(m);c=x||"mousemove";l(document).bind(c,b)};e.stop=function(){l(document).unbind(c,b);return k}}function xc(a){if(a.pageX===ma){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Pb(a){function b(k){return c[k]=c[k]||a(k)}var e=this,c={},f={},h={};e.left=function(k){return f[k]=f[k]===ma?b(k).position().left:f[k]};e.right=function(k){return h[k]=h[k]===ma?e.left(k)+b(k).width():h[k]};e.clear=function(){c={};f={};h={}}}var Za={defaultView:"month",aspectRatio:1.35,
header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,isSingleRow:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],
monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,
dropAccept:"*"},yc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=l.fullCalendar={version:"1.5.4"},Fa=Aa.views={};l.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),e;this.each(function(){var f=l.data(this,"fullCalendar");if(f&&l.isFunction(f[a])){f=
f[a].apply(f,b);if(e===ma)e=f;a=="destroy"&&l.removeData(this,"fullCalendar")}});if(e!==ma)return e;return this}var c=a.eventSources||[];delete a.eventSources;if(a.events){c.push(a.events);delete a.events}a=l.extend(true,{},Za,a.isRTL||a.isRTL===ma&&Za.isRTL?yc:{},a);this.each(function(f,h){f=l(h);h=new Yb(f,a,c);f.data("fullCalendar",h);h.render()});return this};Aa.sourceNormalizers=[];Aa.sourceFetchers=[];var ac={dataType:"json",cache:false},bc=1;Aa.addDays=ba;Aa.cloneDate=G;Aa.parseDate=lb;Aa.parseISO8601=
Bb;Aa.parseTime=nb;Aa.formatDate=Oa;Aa.formatDates=jb;var kc=["sun","mon","tue","wed","thu","fri","sat"],Ab=864E5,cc=36E5,wc=6E4,dc={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},
ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<
12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Oa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Aa.applyAll=ab;Fa.month=lc;Fa.basicWeek=mc;Fa.basicDay=nc;wb({weekMode:"fixed"});Fa.singleRowMonth=pc;Fa.agendaWeek=qc;Fa.agendaDay=rc;wb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},
minTime:0,maxTime:24})})(jQuery);
